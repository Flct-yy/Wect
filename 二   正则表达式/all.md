# 正则表达式
正则表达式是处理文本的强大工具，JavaScript 通过 RegExp 对象提供完整的正则表达式支持。

## 创建正则表达式

### 1. 字面量语法(推荐)
`const regex = /pattern/flags;`
* pattern: 正则表达式模式
* flags: 匹配模式标志（可选）
### 2. 构造函数语法
`const regex = new RegExp('pattern', 'flags');`
* pattern: 正则表达式模式
* flags: 匹配模式标志（可选）

## 匹配模式标志(flags)
标志	|	描述	|	示例
-|---|-
i|	忽略大小写|	/hello/i 匹配 "hello", "Hello"
g|	全局匹配（查找所有匹配）|	/a/g 在 "aaa" 中匹配到三个 "a"
m|	多行模式|	/^a/m 匹配每行开头的 "a"
s|	允许 . 匹配换行符（ES2018）|	/a.b/s 匹配 "a\nb"
u|	Unicode 模式	|/^\uD83D/u 匹配 Unicode 字符
y|	粘性匹配（从上次匹配位置开始）|	详见下文

## 正则表达式模式语法
### 1. 基本匹配
` "Hello".match(/hello/i); // ["Hello"] `
### 2. 特殊字符（元字符）
字符|	描述	|示例
----|----|----
.|	匹配任意单个字符（除换行符）|	/.a/ 匹配 "na" 在 "nay"
\d|	匹配数字（等价于 [0-9]）|	/\d/ 匹配 "1" 在 "a1"
\D|	匹配非数字（等价于 [^0-9]）|	/\D/ 匹配 "a" 在 "a1"
\w|	匹配单词字符（字母、数字、下划线）|	/\w/ 匹配 "a" 在 "!a"
\W|	匹配非单词字符|	/\W/ 匹配 "!" 在 "!a"
\s|	匹配空白字符（空格、制表符等）|	/\s/ 匹配 " " 在 "a b"
\S|	匹配非空白字符|	/\S/ 匹配 "a" 在 " a"
\t|	匹配水平制表符|	
\n|	匹配换行符	|
\r|	匹配回车符	|
### 3. 字符集合
模式|	描述	|示例
-|----|----
[abc]|	匹配方括号内的任意字符|	/[aeiou]/ 匹配 "e" 在 "hello"
[^abc]|	匹配不在方括号内的任意字符|	/[^aeiou]/ 匹配 "h" 在 "hello"
[a-z]|	匹配字符范围|	/[a-z]/ 匹配小写字母
[0-9]|	匹配数字范围|	/[0-9]/ 匹配数字
### 4. 量词
量词|	描述	|示例
----|----|----
`*`	|匹配前一个元素 0 次或多次	| /a*/ 匹配 "aaa" 在 "aaa"
`+`	|匹配前一个元素 1 次或多次	| /a+/ 匹配 "aa" 在 "aa"
?	|匹配前一个元素 0 次或 1 次	| /a?/ 匹配 "a" 在 "a" 或 ""
{n}	|匹配前一个元素恰好 n 次	| /a{2}/ 匹配 "aa"
{n,}	|匹配前一个元素至少 n 次	| /a{2,}/ 匹配 "aaa"
{n,m}	|匹配前一个元素 n 到 m 次	| /a{2,4}/ 匹配 "aaa"
### 5. 位置锚点
锚点|	描述	|示例
----|----|----
^|	匹配字符串开始（多行模式下匹配行首）|	/^a/ 匹配 "a" 在 "abc"
$|	匹配字符串结束（多行模式下匹配行尾）|	/c$/ 匹配 "c" 在 "abc"
\b|	匹配单词边界|	/\bhello\b/ 匹配 "hello" 在 "hello world"
\B|	匹配非单词边界|	/\Bhello\B/ 匹配 "hello" 在 "ahellob"
### 6. 分组与捕获
```
分组使用圆括号 () 将模式的一部分组合成一个单元，可以对这个单元应用量词或其他操作。
默认情况下，分组会捕获匹配的内容，可以在后续操作中引用这些捕获的内容。
为捕获组命名，提高代码可读性
当不需要捕获分组内容时，使用非捕获组节省资源
在正则表达式内部引用前面捕获的内容

// 匹配重复的单词
const regex = /(\b\w+\b) \1/;   //  \1 引用前面捕获的分组内容
console.log(regex.test("hello hello")); // true
console.log(regex.test("hello world")); // false

// 命名捕获组的反向引用
const namedRefRegex = /(?<word>\b\w+\b) \k<word>/;  //  \k<word> 引用命名捕获组的内容
console.log(namedRefRegex.test("bye bye")); // true
```

模式|	描述	|示例
----|----|----
|(abc)	|捕获分组|	/(ab)+/ 匹配 "abab" 在 "abab"
|(?:abc)	|非捕获分组|	/(?:ab)+/ 匹配但不捕获分组
|\n  或`\k<name>`	|反向引用分组（n 为分组编号）|	/(a)b\1/ 匹配 "aba"
### 7. 选择符
```
// 匹配 "cat" 或 "dog"
const petRegex = /cat|dog/; 
```
### 8. 预查（Lookarounds）
预查是零宽度断言，它们检查模式但不消耗字符，不会包含在匹配结果中。
```
// 匹配后面跟着 "px" 的数字
const regex = /\d+(?=px)/;
console.log("10px 20em".match(regex)); // ["10"] (只匹配数字)
```
预查类型|	描述	|示例
----|----|----
(?=abc)	|正向肯定预查|	/a(?=b)/ 匹配后面是 "b" 的 "a"
(?!abc)	|正向否定预查|	/a(?!b)/ 匹配后面不是 "b" 的 "a"
(?<=abc)|	反向肯定预查（ES2018）|	/(?<=a)b/ 匹配前面是 "a" 的 "b"
(?<!abc)|	反向否定预查（ES2018）|	/(?<!a)b/ 匹配前面不是 "a" 的 "b"

## JavaScript 正则方法
### 1. RegExp 对象方法
方法|	描述	|示例
----|----|----
test()|	测试是否匹配，返回布尔值	|/hello/.test("hello world") → true
exec()|	执行搜索，返回匹配结果数组或 null|	/a(b)/.exec("abc") → ["ab", "b"]
### 2. String 方法使用正则
方法|	描述	|示例
----|----|----
match()|	返回匹配结果数组|	"abc".match(/b/) → ["b"]
matchAll()|	返回所有匹配的迭代器（ES2020）|	[..."a1b2".matchAll(/\d/g)] → [["1"], ["2"]]
search()|	返回匹配位置的索引|	"abc".search(/b/) → 1
replace()|	替换匹配的子串|	"abc".replace(/b/, "x") → "axc"
replaceAll()|	替换所有匹配的子串（ES2021）|	"aabb".replaceAll("b", "x") → "aaxx"
split()|	使用正则分割字符串|	"a,b".split(/,/) → ["a", "b"]