# 动画
CSS 动画使您无需使用 JavaScript 就能实现大多数简单的动画效果。它由两个核心部分组成：

* **@keyframes 规则**：用于定义动画在特定时间点上的样式。这就像是动画的“剧本”或“时间线”。
* **动画属性**：用于将定义好的 **@keyframes** 动画应用到元素上，并控制动画的细节，如持续时间、延迟、播放次数等。

## @keyframes 规则
@keyframes 规则是动画的灵魂。它规定了动画从开始到结束的整个过程中，元素样式应该如何变化。

在 @keyframes 中，如果某些属性没写，它们会继承元素当前值，不会被重置。

```css
@keyframes animation-name {
  from {
    /* 起始状态的样式 */
  }
  to {
    /* 结束状态的样式 */
  }
}

/* 或者用百分比 */
@keyframes animation-name {
  0% {
    /* 动画开始时的样式 */
  }
  50% {
    /* 动画进行到一半时的样式 */
  }
  100% {
    /* 动画结束时的样式 */
  }
}
```

## 动画属性
需要通过一系列动画属性将它应用到元素上。这些属性包括：

* **animation-name**：定义动画的名称，在 @keyframes 规则中使用。

* **animation-duration**：定义动画的持续时间，以秒或毫秒计（单位：s 或 ms）。这是必需项。

* **animation-timing-function**：定义动画的速度曲线。（类似于transition-timing-function）。
    * 值：ease, linear, ease-in, ease-out, ease-in-out, cubic-bezier(n,n,n,n)。

* **animation-delay**：定义动画开始之前的延迟时间。

* **animation-iteration-count**：定义动画播放的次数。
    * 值：一个数字（如 2 播放两次），或 infinite（无限循环播放）。
    * 也可以是小数 2.5 表示播放两次完整动画 + 半次（即到 50% 时结束）。

* **animation-direction**：定义动画播放的方向。
    * normal：默认，向前播放（0% -> 100%）。
    * reverse：反向播放（100% -> 0%）。
    * alternate：先正向再反向，交替进行（0% -> 100% -> 0%）。
    * alternate-reverse：先反向再正向，交替进行（100% -> 0% -> 100%）。

* **animation-fill-mode**：定义动画结束后元素的状态。
    * none：默认值。动画播放前后，元素使用默认样式。
    * forwards：动画完成后，元素将保留最后一帧（100%） 的样式。当然也受 animation-direction 的影响。在 alternate / alternate-reverse 中，最后一帧可能是 0%，不是 100%。
    * backwards：在动画延迟期间，元素将立即应用第一帧（0%） 的样式。
    * both：同时应用 forwards 和 backwards 的规则。

* **animation-play-state**：定义动画的暂停状态。
    * running：动画正在播放。
    * paused：动画被暂停。

### 简写属性 (animation)
animation 属性是以上所有属性（除了 animation-play-state）的简写形式。语法如下  
`animation: [name] [duration] [timing-function] [delay] [iteration-count] [direction] [fill-mode];`  
多个动画可以用逗号分隔。

**注意**：
* **顺序很重要！**
    * 第一个能被解析为时间的值会被赋予 animation-duration，第二个会被赋予 animation-delay。
* **性能优先**： 和过渡一样，优先使用 transform 和 opacity 来制作动画，因为它们对性能的影响最小。
* **可访问性**： 尊重用户的偏好。如果用户在系统中设置了“减少动画”选项，可以使用媒体查询 @media (prefers-reduced-motion: reduce) 来减少或关闭动画效果。