# 精度问题汇总
想用有限的位来表示无穷的数字，显然是不可能的，因此会出现一些列精度问题：

* 浮点数精度问题，比如 0.1 + 0.2 !== 0.3
* 大数精度问题，比如 9999 9999 9999 9999 == 1000 0000 0000 0000 1
* toFixed 四舍五入结果不准确，比如 1.335.toFixed(2) == 1.33

浮点数精度和 toFixed 其实属于同一类问题，都是由于浮点数无法精确表示引起的，

# 解决思路
首先考虑的是如何解决浮点数运算的精度问题，有 3 种思路：

* 考虑到每次浮点数运算的偏差非常小(其实不然)，可以对结果进行指定精度的四舍五入，比如可以parseFloat(result.toFixed(12));
    * 大多数情况下，它可以得到正确结果，但是对一些极端情况，是不准确的。
    * `210000 * 10000  * 1000 * 8.2    // 17219999999999.998
      parseFloat(17219999999999.998.toFixed(12));    // 17219999999999.998，而正确结果为 17220000000000
* 将浮点数转为整数运算，再对结果做除法。比如0.1 + 0.2，可以转化为(1*2)/3。
    * 这种方法的缺点是，浮点数运算的精度受限于计算机的浮点数表示范围。
* 把浮点数转化为字符串，模拟实际运算的过程。
    * 最终考虑使用第三种方案，目前已经有了很多较为成熟的库可以实现，比如 bignumber.js，decimal.js，以及big.js等。
    * 这种方法的缺点是，字符串运算的效率低下。