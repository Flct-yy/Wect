# 执行上下文
执行上下文（Execution Context）是 JavaScript 代码执行的核心概念，理解它是掌握 JavaScript 运行机制的关键。

javaScript 引擎不是一行行执行的，而是一段段执行的。当执行一段代码的时候，会进行一个 “准备工作”，比如变量提升（var 声明的变量）或函数提升（函数声明，非函数表达式），这个“准备工作”就是构建执行上下文。JavaScript 引擎创建执行上下文栈(ECS)来管理执行上下文。而重点是如何理解“一段段”是如何划分的？

## 一、基本概念

### 1. 什么是执行上下文？
执行上下文是 JavaScript 代码被评估和执行时的环境抽象概念，它包含了代码执行所需的全部信息。每当 JavaScript 引擎执行一段代码时，都会创建一个执行上下文来管理该代码的执行。

### 2. 执行上下文的类型
JavaScript 中有三种执行上下文：

类型	|创建时机	|说明
---	|---	|---
全局执行上下文|	脚本首次执行时	|基础执行环境，只有一个
函数执行上下文|	函数调用时	|每次函数调用都会创建新的
eval 执行上下文|	eval() 执行时	|很少使用，存在安全风险

**注:**  
eval() 是 JavaScript 中一个强大但危险的函数，它能够将传入的字符串作为 JavaScript 代码执行。

## 二、执行上下文的生命周期

### 1. 创建阶段
* 创建变量对象
* 建立作用域链
* 确定this值



### 2. 执行阶段
* 变量赋值
* 函数引用
* 执行代码

### 3. 销毁阶段
* 执行完毕后从栈中弹出
* 等待垃圾回收

## 三、执行上下文的组成结构

每个执行上下文包含三个核心组件：
1. 变量对象（Variable Object, VO）
2. 作用域链（Scope Chain）
3. this 值