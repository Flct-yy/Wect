# 类
类是用于创建对象的模板。
我们使用 class 关键字来创建一个类，类体在一对大括号 {} 中，我们可以在大括号 {} 中定义类成员的位置，如方法或构造函数。

每个类中包含了一个特殊的方法 constructor()，它是类的构造函数，这种方法用于创建和初始化一个由 class 创建的对象。

定义好类后，我们就可以使用 new 关键字来创建对象，创建对象时会自动调用构造函数方法 constructor()。

构造方法用于初始化对象属性。
如果不定义构造方法，JavaScript 会自动添加一个空的构造方法。

**注意：** 函数声明和类声明之间的一个重要区别在于, 函数声明会提升，类声明不会。
## 类关键字

关键字|	描述
---|---
extends|	继承一个类
static|	在类中定义一个静态方法
super()|	调用父类的构造函数（必须在子类构造函数中使用）
super.method()|	调用父类方法
## 类继承

类继承使用 extends 关键字。
继承允许我们依据另一个类来定义一个类，这使得创建和维护一个应用程序变得更容易。

super() 方法用于调用父类的构造函数。通过在构造方法中调用 super() 方法，我们调用了父类的构造方法，这样就可以访问父类的属性和方法。

当创建一个类时，您不需要重新编写新的数据成员和成员函数，只需指定新建的类继承了一个已有的类的成员即可。这个已有的类称为`基类（父类）`，新建的类称为`派生类（子类）`。

## getter 和 setter
类中我们可以使用 getter 和 setter 来获取和设置值，getter 和 setter 都需要在严格模式下执行。

getter 和 setter 可以使得我们对属性的操作变的很灵活。

类中添加 getter 和 setter 使用的是 get 和 set 关键字。

```
class Runoob {
  constructor(name) {
    this.sitename = name;
  }
  get s_name() {
    return this.sitename;
  }
  set s_name(x) {
    this.sitename = x;
  }
}
```

**注:**  
* 即使 `getter/setter` 是一个方法，当你想获取属性值时也不要使用括号。  
* `getter/setter` 方法的名称不能与属性的名称相同，否则会报错。  

## 静态
静态方法是使用 static 关键字修饰的方法，又叫类方法，属于类的，但不属于对象，在实例化对象之前可以通过 类名.方法名 调用静态方法。

静态方法不能在对象上调用，只能在类中调用。

如果你想在对象 noob 中使用静态方法，可以作为一个参数传递给它

```
class MathUtils {
  // 静态方法
  static square(x) {
    return x * x;
  }

  // 静态属性 (ES2022)
  static PI = 3.14159;

  static {
    // 可以执行复杂的静态初始化逻辑
    ...
  }
}
```


## 高级特性

### 类表达式
类表达式可以包含一个可选名称，这个名称仅在类内部可见，外部不可访问。
```
const Person = class NamedPerson {
  constructor(name) {
    this.name = name;
  }
  
  logClassName() {
    // 只能在类内部使用 NamedPerson
    console.log(NamedPerson.name); 
  }
};

console.log(Person.name); // 输出: "NamedPerson"
console.log(NamedPerson); // 报错: NamedPerson is not defined
```

### new.target
new.target 属性是一个只读属性，它返回 new 关键字用来调用构造函数的那个构造函数。

如果 new.target 在构造函数外部被调用，它的值为 undefined。

```
class Person {
  constructor() {
    if (new.target === Person) {
      console.log('这是 Person 构造函数');
    } else {
      console.log('这是它的子类');
    }
  }
}

class Student extends Person {
  constructor() {
    super();
  }
}

const p = new Person(); // 输出: "这是 Person 构造函数"
const s = new Student(); // 输出: "这是它的子类"
```

### 计算属性名

在 ES2017 中，我们可以使用计算属性名来定义类属性。

在类中使用` [ ] `包裹表达式作为方法名或属性名。

```
class Person {
  constructor() {
    this['first-name'] = 'John';
    this['last-name'] = 'Doe';
  }
}

const p = new Person();
console.log(p['first-name']); // 输出: "John"
console.log(p['last-name']); // 输出: "Doe"
```

